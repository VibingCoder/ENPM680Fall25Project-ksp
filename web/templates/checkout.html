{{ define "checkout" }}{{ template "header" . }}
<h1>Checkout</h1>


<h3>Order Summary</h3>
<table>
  <tr><th>Item</th><th>Cond.</th><th>Qty</th><th>Price</th><th>Subtotal</th></tr>
  {{ range .Cart.Items }}
  <tr>
    <td>{{ .Title }}</td><td>{{ .Condition }}</td><td>{{ .Qty }}</td>
    <td>${{ printf "%.2f" .PriceAtAdd }}</td>
    <td>${{ printf "%.2f" .Subtotal }}</td>
  </tr>
  {{ else }}
  <tr><td colspan="5">Your cart is empty.</td></tr>
  {{ end }}
</table>
<p><strong>Total:</strong> ${{ printf "%.2f" .Cart.Total }}</p>

<h3>Contact & Delivery</h3>
<form method="post" action="/orders">
  <label>Name <input name="name" required></label><br>
  <label>Email <input name="email" type="email" required></label><br>
  <label>Region / ZIP <input name="region" required placeholder="20742"></label><br>
  <label>Fulfillment
    <select name="fulfillment">
      <option value="delivery">Delivery</option>
      <option value="pickup">Pickup</option>
    </select>
  </label><br><br>
  <button type="submit">Place Order</button>
</form>
{{ template "footer" . }}{{ end }}